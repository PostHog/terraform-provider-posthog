/*
PostHog API

No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)

API version: 1.0.0
*/

// Code generated by OpenAPI Generator (https://openapi-generator.tech); DO NOT EDIT.

package posthogapi

import (
	"encoding/json"
	"fmt"
	"gopkg.in/validator.v2"
)

// Source3 - struct for Source3
type Source3 struct {
	FunnelsQuery *FunnelsQuery
	LifecycleQuery *LifecycleQuery
	PathsQuery *PathsQuery
	RetentionQuery *RetentionQuery
	StickinessQuery *StickinessQuery
	TrendsQuery *TrendsQuery
}

// FunnelsQueryAsSource3 is a convenience function that returns FunnelsQuery wrapped in Source3
func FunnelsQueryAsSource3(v *FunnelsQuery) Source3 {
	return Source3{
		FunnelsQuery: v,
	}
}

// LifecycleQueryAsSource3 is a convenience function that returns LifecycleQuery wrapped in Source3
func LifecycleQueryAsSource3(v *LifecycleQuery) Source3 {
	return Source3{
		LifecycleQuery: v,
	}
}

// PathsQueryAsSource3 is a convenience function that returns PathsQuery wrapped in Source3
func PathsQueryAsSource3(v *PathsQuery) Source3 {
	return Source3{
		PathsQuery: v,
	}
}

// RetentionQueryAsSource3 is a convenience function that returns RetentionQuery wrapped in Source3
func RetentionQueryAsSource3(v *RetentionQuery) Source3 {
	return Source3{
		RetentionQuery: v,
	}
}

// StickinessQueryAsSource3 is a convenience function that returns StickinessQuery wrapped in Source3
func StickinessQueryAsSource3(v *StickinessQuery) Source3 {
	return Source3{
		StickinessQuery: v,
	}
}

// TrendsQueryAsSource3 is a convenience function that returns TrendsQuery wrapped in Source3
func TrendsQueryAsSource3(v *TrendsQuery) Source3 {
	return Source3{
		TrendsQuery: v,
	}
}


// Unmarshal JSON data into one of the pointers in the struct
func (dst *Source3) UnmarshalJSON(data []byte) error {
	var err error
	match := 0
	// try to unmarshal data into FunnelsQuery
	err = newStrictDecoder(data).Decode(&dst.FunnelsQuery)
	if err == nil {
		jsonFunnelsQuery, _ := json.Marshal(dst.FunnelsQuery)
		if string(jsonFunnelsQuery) == "{}" { // empty struct
			dst.FunnelsQuery = nil
		} else {
			if err = validator.Validate(dst.FunnelsQuery); err != nil {
				dst.FunnelsQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.FunnelsQuery = nil
	}

	// try to unmarshal data into LifecycleQuery
	err = newStrictDecoder(data).Decode(&dst.LifecycleQuery)
	if err == nil {
		jsonLifecycleQuery, _ := json.Marshal(dst.LifecycleQuery)
		if string(jsonLifecycleQuery) == "{}" { // empty struct
			dst.LifecycleQuery = nil
		} else {
			if err = validator.Validate(dst.LifecycleQuery); err != nil {
				dst.LifecycleQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.LifecycleQuery = nil
	}

	// try to unmarshal data into PathsQuery
	err = newStrictDecoder(data).Decode(&dst.PathsQuery)
	if err == nil {
		jsonPathsQuery, _ := json.Marshal(dst.PathsQuery)
		if string(jsonPathsQuery) == "{}" { // empty struct
			dst.PathsQuery = nil
		} else {
			if err = validator.Validate(dst.PathsQuery); err != nil {
				dst.PathsQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.PathsQuery = nil
	}

	// try to unmarshal data into RetentionQuery
	err = newStrictDecoder(data).Decode(&dst.RetentionQuery)
	if err == nil {
		jsonRetentionQuery, _ := json.Marshal(dst.RetentionQuery)
		if string(jsonRetentionQuery) == "{}" { // empty struct
			dst.RetentionQuery = nil
		} else {
			if err = validator.Validate(dst.RetentionQuery); err != nil {
				dst.RetentionQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.RetentionQuery = nil
	}

	// try to unmarshal data into StickinessQuery
	err = newStrictDecoder(data).Decode(&dst.StickinessQuery)
	if err == nil {
		jsonStickinessQuery, _ := json.Marshal(dst.StickinessQuery)
		if string(jsonStickinessQuery) == "{}" { // empty struct
			dst.StickinessQuery = nil
		} else {
			if err = validator.Validate(dst.StickinessQuery); err != nil {
				dst.StickinessQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.StickinessQuery = nil
	}

	// try to unmarshal data into TrendsQuery
	err = newStrictDecoder(data).Decode(&dst.TrendsQuery)
	if err == nil {
		jsonTrendsQuery, _ := json.Marshal(dst.TrendsQuery)
		if string(jsonTrendsQuery) == "{}" { // empty struct
			dst.TrendsQuery = nil
		} else {
			if err = validator.Validate(dst.TrendsQuery); err != nil {
				dst.TrendsQuery = nil
			} else {
				match++
			}
		}
	} else {
		dst.TrendsQuery = nil
	}

	if match > 1 { // more than 1 match
		// reset to nil
		dst.FunnelsQuery = nil
		dst.LifecycleQuery = nil
		dst.PathsQuery = nil
		dst.RetentionQuery = nil
		dst.StickinessQuery = nil
		dst.TrendsQuery = nil

		return fmt.Errorf("data matches more than one schema in oneOf(Source3)")
	} else if match == 1 {
		return nil // exactly one match
	} else { // no match
		return fmt.Errorf("data failed to match schemas in oneOf(Source3)")
	}
}

// Marshal data from the first non-nil pointers in the struct to JSON
func (src Source3) MarshalJSON() ([]byte, error) {
	if src.FunnelsQuery != nil {
		return json.Marshal(&src.FunnelsQuery)
	}

	if src.LifecycleQuery != nil {
		return json.Marshal(&src.LifecycleQuery)
	}

	if src.PathsQuery != nil {
		return json.Marshal(&src.PathsQuery)
	}

	if src.RetentionQuery != nil {
		return json.Marshal(&src.RetentionQuery)
	}

	if src.StickinessQuery != nil {
		return json.Marshal(&src.StickinessQuery)
	}

	if src.TrendsQuery != nil {
		return json.Marshal(&src.TrendsQuery)
	}

	return nil, nil // no data in oneOf schemas
}

// Get the actual instance
func (obj *Source3) GetActualInstance() (interface{}) {
	if obj == nil {
		return nil
	}
	if obj.FunnelsQuery != nil {
		return obj.FunnelsQuery
	}

	if obj.LifecycleQuery != nil {
		return obj.LifecycleQuery
	}

	if obj.PathsQuery != nil {
		return obj.PathsQuery
	}

	if obj.RetentionQuery != nil {
		return obj.RetentionQuery
	}

	if obj.StickinessQuery != nil {
		return obj.StickinessQuery
	}

	if obj.TrendsQuery != nil {
		return obj.TrendsQuery
	}

	// all schemas are nil
	return nil
}

// Get the actual instance value
func (obj Source3) GetActualInstanceValue() (interface{}) {
	if obj.FunnelsQuery != nil {
		return *obj.FunnelsQuery
	}

	if obj.LifecycleQuery != nil {
		return *obj.LifecycleQuery
	}

	if obj.PathsQuery != nil {
		return *obj.PathsQuery
	}

	if obj.RetentionQuery != nil {
		return *obj.RetentionQuery
	}

	if obj.StickinessQuery != nil {
		return *obj.StickinessQuery
	}

	if obj.TrendsQuery != nil {
		return *obj.TrendsQuery
	}

	// all schemas are nil
	return nil
}

type NullableSource3 struct {
	value *Source3
	isSet bool
}

func (v NullableSource3) Get() *Source3 {
	return v.value
}

func (v *NullableSource3) Set(val *Source3) {
	v.value = val
	v.isSet = true
}

func (v NullableSource3) IsSet() bool {
	return v.isSet
}

func (v *NullableSource3) Unset() {
	v.value = nil
	v.isSet = false
}

func NewNullableSource3(val *Source3) *NullableSource3 {
	return &NullableSource3{value: val, isSet: true}
}

func (v NullableSource3) MarshalJSON() ([]byte, error) {
	return json.Marshal(v.value)
}

func (v *NullableSource3) UnmarshalJSON(src []byte) error {
	v.isSet = true
	return json.Unmarshal(src, &v.value)
}


